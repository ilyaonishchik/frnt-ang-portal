<p-dialog
  [(visible)]=visible
  (visibleChange)=onVisibleChange($event)
  [style]="{width: '75vw', height: '37rem'}"
  [breakpoints]="{'960px': '95vw'}"
  [modal]=true
  [maximizable]=true
  [resizable]=false
  class='p-fluid'
  header='Просмотр пользователя'
>
  <avs-loading *ngIf='(isLoading$ | async)'></avs-loading>
  <avs-validate-errors
    *ngIf='validationErrors$ | async'
    [errors]='validationErrors$ | async'
  ></avs-validate-errors>
  <ng-container *ngIf='(isLoading$ | async) === false'>
    <app-user-form
      *ngIf=item
      [crudAction]=crudAction
      [initialValues]=item
    ></app-user-form>
  </ng-container>
  <p-footer>
    <div
      *ngIf='(isLoading$ | async) === false && item'
      class='flex justify-content-between'
    >
      <p-checkbox
        class='align-content-start'
        label='Активная'
        [ngModel]=item.status
        [binary]=true
        [trueValue]=1
        [falseValue]=0
        [readonly]=true
      ></p-checkbox>
      <div>
        <button
          pButton label='Закрыть' icon='pi pi-times'
          class='p-button-outlined p-button-secondary'
          (click)=onVisibleChange(false)
        ></button>
      </div>
    </div>
  </p-footer>
</p-dialog>
